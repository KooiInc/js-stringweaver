var Mt="url('data:image/svg+xml\\3butf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E')",Ve=Ft(),At=It(),pe=Zt(),K=zt();function Zt(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function zt(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function Ft(){return["#logBox{min-width:0px;max-width:0px;min-height:0px;max-height:0px;width:0;height:0;z-index:-1;border:none;padding:0px;overflow:hidden;transition:all 0.3s ease;margin-top:-100px;}","#logBox.visible{background-color:rgb(255, 255, 224);z-index:1;position:static;border:1px dotted rgb(153, 153, 153);max-width:50vw;min-width:30vw;min-height:10vh;max-height:90vh;overflow:auto;width:50vw;height:20vh;margin:1rem 0px;padding:0px 8px 19px;resize:both;}","#logBox.visible .legend{position:absolute;}","#logBox .legend{text-align:center;margin-top:-1em;width:inherit;max-width:inherit;}","#logBox .legend div{text-align:center;display:inline-block;max-width:inherit;height:1.2rem;background-color:rgb(119, 119, 119);padding:2px 10px;color:rgb(255, 255, 255);box-shadow:rgb(119 119 119) 2px 1px 10px;border-radius:4px;}","#logBox .legend div:before{content:'JQL Logging (chronological)';}","#logBox .legend.reversed div:before{content:'JQL Logging (reversed)';}","#logBox #jql_logger{marginTop:0.7rem;lineHeight:1.4em;font-family:consolas,monospace;whiteSpace:pre-wrap;maxWidth:inherit;padding-left:100px;}","#logBox #jql_logger div.entry{text-indent:-100px;whiteSpace:normal;}"]}function It(){return[".popupContainer{position:fixed;inset:-5000px;opacity:0;height:0;width:0;background:rgba(0,0,0,0.1);transition:opacity 0.6s ease-in-out 0s;}",".popupContainer.popup-active{opacity:1;inset:0;height:auto;width:auto;z-index:2147483646;}",".popupContainer .content{box-shadow:rgba(0,0,0,0.5) 2px 2px 8px;border-radius:3px;min-width:125px;max-width:40vw;max-height:40vh;padding:8px;overflow:auto;background:#FFF;z-index:inherit;opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}",".popupContainer .content .popup-warn{position:relative;padding:3px 8px 0 8px;color:red;margin:6px -8px -4px -8px;text-align:center;display:none;}",".popupContainer .content.popup-warn-active .popup-warn{display:block;border-top:1px dashed rgb(0,0,0);}",`.closeHandleIcon{z-index:1;position:absolute;opacity:0;cursor:pointer;width:24px;height:24px;background:${Mt} no-repeat;}`,".closeHandleIcon.popup-active{opacity:1;z-index:2147483647;}","@media screen and (width < 1200px){.popupContainer .content{max-width:75vw;}}","@media screen and (width < 640px){.popupContainer .content{max-width:90vw;max-height:60vw;}}"]}var ge=!1,Ht={on:()=>ge=!0,off:()=>ge=!1},z={tagsRaw:K,allowUnknownHtmlTags:Ht,isAllowed(e){if(ge)return!0;let t=m(e,String)?e.toLowerCase():e?.nodeName.toLowerCase()||"none";return t==="#text"||!!K[t]},allowTag:e=>K[e.toLowerCase()]=!0,prohibitTag:e=>K[e.toLowerCase()]=!1},he=!1,J=!1,q=!0,ye=!1,Pt=!0,Ye,P=()=>w("#logBox"),_e="#jql_logger",Rt=e=>{Ve?.forEach(t=>e(t))},qt=()=>{Ve&&Rt(Ye);let e=Pt?"div":"pre",t=`<div id="logBox"><div class="legend"><div></div></div><${e} id="jql_logger"></${e}></div>`;return tt(Z(t),void 0,M.AfterBegin),w.node(_e)},ke=e=>m(e,String)&&Object.assign(document.createElement("textarea"),{innerHTML:e}).textContent||e,k=(...e)=>{let t=e[0]==="fromStatic";if(e=t?e.slice(1):e,t&&!J)return e.forEach(r=>console.info(`${te()} \u2714 ${ke(r)}`));if(!J)return;!q&&!w.node("#logBox")&&(Ye=w.createStyle("JQLLogCSS"),qt());let n=r=>`${m(r,Object)?JSON.stringify(r,null,2):r}
`;e.forEach(r=>q?console.info(`${te()} \u2714 ${ke(r)}`):w.node("#jql_logger").insertAdjacentHTML(ye?"afterbegin":"beforeend",`<div class="entry">${te()} ${n(r.replace(/\n/g,"<br>"))}</div>`))},de={on(){J=!0,k("Logging activated")},off(){J=!1,console.log("Logging deactivated")}},me={on(){he=!0},off(){he=!1}},B=(...e)=>he&&k(...e),O={get isConsole(){return q===!0},get isOn(){return J},isVisible:function(){return w("#jql_logger").is("visible")},on(){return de.on(),me.on(),q||P()?.addClass("visible"),k("Debug logging started. Every call to [jql instance] is logged"),O},off(){return P().isEmpty||(me.off(),k("Debug logging stopped"),P()?.removeClass("visible")),de.off(),O},toConsole:{on(){return q=!0,k("Started logging to console"),O},off(){return k("Stopped logging to console (except error messages)"),q=!1,O}},remove(){return de.off(),me.off(),P()?.remove(),console.clear(),console.log(`${te()} logging completely disabled and all entries removed`),O},log:function(...e){return k(...e),O},hide(){return P()?.removeClass("visible"),O},show:()=>(P()?.addClass("visible"),O),get reversed(){return{on:()=>(ye=!0,k("Reverse logging set: now logging bottom to top (latest first)"),w("#logBox .legend").addClass("reversed"),O),off:()=>(ye=!1,w("#logBox .legend").removeClass("reversed"),k("Reverse logging reset: now logging chronological (latest last)"),O)}},clear(){return w(_e).text(""),console.clear(),k("Logging cleared"),O}},Me=Ut(),Ae={html:"innerHTML",text:"textContent",class:"className"};function Ut(){let e={get(t,n){let r=String(n)?.toLowerCase();switch(!0){case r in t:return t[r];case Gt(r):return Ze(t,r,n);default:return Ze(t,r,n,!0)}},enumerable:!1,configurable:!1};return new Proxy({},e)}function Ze(e,t,n,r=!1){return Object.defineProperty(e,t,{get(){return r?i=>_t(n):Kt(t)}}),e[t]}function Bt(e,t,n){return t=t?.isJQL&&t.first()||t,Xt({trial:r=>Ke(t)?e.insertAdjacentHTML("beforeend",t):e.append(t),whenError:r=>console.info(`${n} not created, reason
`,r)})}function Wt(e,t,...n){let r=Jt(t,e);return n?.forEach(i=>Bt(r,i,e)),r}function Jt(e,t){switch(e=we(t)?Yt(e):e,!0){case m(e,String):return Q(t,Ke(e,t)?{html:e}:{text:e});case m(e,Node):return Vt(t,e);default:return Q(t,e)}}function Qt(e){return delete e.data,Object.keys(e).length<1||Object.keys(e).forEach(t=>{let n=t.toLowerCase();n in Ae&&(e[Ae[n]]=e[t])&&delete e[t]}),e}function Vt(e,t){let n=Q(e);return n.append(t),n}function Q(e,t={}){t=Ge(t,{});let n=Object.entries(t.data??{}),r=Object.assign(we(e)?new Comment:document.createElement(e),Qt(t));return n.length&&n.forEach(([i,o])=>r.dataset[i]=o),r}function Ge(e,t){return t?m(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:t}):m(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function Yt(e){return Ge(e)?e?.text??e?.textContent??"":String(e)}function _t(e){return Q("b",{style:"color:red",text:`'${e}' is not a valid HTML-tag`})}function Ke(e,t){return!we(t)&&m(e,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(e)}function we(e){return/comment/i.test(e)}function Gt(e){return!m(Q(e),HTMLUnknownElement)}function Kt(e){return(t,...n)=>Wt(e,t,...n)}var{IS:m,maybe:Xt,$Wrap:jn,xProxy:Nn,isNothing:En}=er();function er(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),h();let e=$(),[t,n]=[d(),S()];return n.custom(),{IS:r,maybe:e,$Wrap:t,isNothing:T,xProxy:n};function r(c,...u){if(e({trial:x=>"isTypes"in(u?.[0]??{})})){let x=u[0];return"defaultValue"in x?v(c,x):"notTypes"in x?f(c,x):r(c,...[x.isTypes].flat())}let y=typeof c=="symbol"?Symbol.isSymbol:c;return u.length>1?b(y,...u):o(c,...u)}function i(c){return c?.[Symbol.proxy]??r(c)}function o(c,...u){let{noInput:y,noShouldbe:x,compareTo:L,inputCTOR:H,isNaN:se,isInfinity:ce,shouldBeFirstElementIsNothing:ue}=s(c,...u);switch(u=u.length&&u[0],!0){case ue:return String(c)===String(L);case(c?.[Symbol.proxy]&&x):return c[Symbol.proxy];case se:return x?"NaN":e({trial:Ee=>String(L)})===String(c);case ce:return x?"Infinity":e({trial:Ee=>String(L)})===String(c);case y:return x?String(c):String(L)===String(c);case H===Boolean:return u?H===u:"Boolean";default:return g(c,u,x,a(c,H))}}function a(c,u){return c===0?Number:c===""?String:c?u:{name:String(c)}}function s(c,...u){let y=u.length<1,x=!y&&u[0],L=!y&&T(u[0]),H=c==null,se=!H&&Object.getPrototypeOf(c)?.constructor,ce=Number.isNaN(c),ue=e({trial:Ee=>String(c)})==="Infinity";return{noInput:H,noShouldbe:y,compareTo:x,inputCTOR:se,isNaN:ce,isInfinity:ue,shouldBeFirstElementIsNothing:L}}function g(c,u,y,x){switch(!0){case(!y&&u===c||c?.[Symbol.proxy]&&u===Proxy):return!0;case e({trial:L=>String(u)})==="NaN":return String(c)==="NaN";case(c?.[Symbol.toStringTag]&&r(u,String)):return String(u)===c[Symbol.toStringTag];default:return u?e({trial:L=>c instanceof u})||u===x||u===Object.getPrototypeOf(x)||`${u?.name}`===x?.name:c?.[Symbol.toStringTag]&&`[object ${c?.[Symbol.toStringTag]}]`||x?.name||String(x)}}function b(c,...u){return u.some(y=>r(c,y))}function T(c,u=!1){let y=c==null;return y=u?y||r(c,1/0)||r(c,NaN):y,y}function $(){let c=(u,y)=>u?.constructor===Function?u(y):void 0;return function({trial:u,whenError:y=()=>{}}={}){try{return c(u)}catch(x){return c(y,x)}}}function d(){return function(c){return Object.freeze({get value(){return c},get[Symbol.type](){return i(c)},get type(){return i(c)},[Symbol.is](...u){return r(c,...u)},is(...u){return r(c,...u)}})}}function v(c,{defaultValue:u,isTypes:y=[void 0],notTypes:x}={}){return y=y?.constructor!==Array?[y]:y,x=x&&x?.constructor!==Array?[x]:[],x.length<1?r(c,...y)?c:u:f(c,{isTypes:y,notTypes:x})?c:u}function f(c,{isTypes:u=[void 0],notTypes:y=[void 0]}={}){return u=u?.constructor!==Array?[u]:u,y=y?.constructor!==Array?[y]:y,r(c,...u)&&!r(c,...y)}function h(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return i(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...c){return r(this,...c)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(c){return i(c)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(c,...u){return r(c,...u)},enumerable:!1,configurable:!1}}))}function l(c){let u=String(Object.getPrototypeOf(c)?.constructor);return u.slice(u.indexOf("ion")+3,u.indexOf("(")).trim()}function p(c){let u=c.set;return c.set=(y,x,L)=>x===Symbol.proxy?y[x]=L:u(y,x,L),c}function S(){let c=Proxy;return{native(){Proxy=c},custom(){Proxy=new c(c,{construct(u,y){for(let L of y)L.set&&(L=p(L));let x=new u(...y);return x[Symbol.proxy]=`Proxy (${l(y[0])})`,x}})}}}}function be({styleSheet:e,createWithId:t}={}){let{tryParseAtOrNestedRules:n,ruleExists:r,checkParams:i,sheet:o,removeRules:a,consider:s,currentSheetID:g}=tr({styleSheet:e,createWithId:t});function b(f,h){if(f&&h.removeProperties){Object.keys(h.removeProperties).forEach(l=>f.style.removeProperty(ze(l)));return}Object.entries(h).forEach(([l,p])=>{l=ze(l.trim()),p=p.trim();let S;if(/!important/.test(p)&&(p=p.slice(0,p.indexOf("!important")).trim(),S="important"),!CSS.supports(l,p))return console.error(`StylingFactory ${g} error: '${l}' with value '${p}' not supported (yet)`);Fe(()=>f.style.setProperty(l,p,S),`StylingFactory ${g} (setRule4Selector) failed`)})}function T(f,h,l=o){if(f=f?.trim?.(),!m(f,String)||!f.length||/[;,]$/g.test(f))return console.error(`StylingFactory ${g} (setRules): [${f||"[no selector given]"}] is not a valid selector`);if(h.removeRule)return a(f);let p=r(f,!0),S=p||l.cssRules[l.insertRule(`${f} {}`,l.cssRules.length||0)];return s(()=>b(S,h),f,p)}function $(f){let h=f.trim().split(/{/,2),l=h.shift().trim();if(!m(l,String)||!l?.trim()?.length)return console.error(`StylingFactory ${g} (doParse): no (valid) selector could be extracted from rule ${ve(f)}`);let p=sr(h.shift());return Fe(()=>T(l,p),`StylingFactory ${g} (setRules) failed`)}function d(f){let h=n(f);return h.done?h.existing:$(f)}function v(f,h){return f.trim().startsWith("@media")?d(rr(f,h)):T(f,h)}return function(f,h={}){return i(f,h)&&(Object.keys(h).length?v(f,h):d(f))}}function tr({styleSheet:e,createWithId:t}){let n="Note: The rule or some of its properties may not be supported by your browser (yet)",r=`for style#${t}`;e=t?i(t):e;function i(d){let v=document.querySelector(`#${d}`)?.sheet;if(v)return v;let f=Object.assign(document.createElement("style"),{id:d});return document.head.insertAdjacentElement("beforeend",f),f.sheet}function o(d){return console.error(`StylingFactory ${r} [rule: ${d}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function a(d,v){return[...e.rules].find(f=>v?Ie(f.selectorText||"",d):ir`${or(d)}${[..."gim"]}`.test(f.cssText))}function s(d){return/^@charset|@import|namespace/i.test(d.trim())?o(d):d.match(/}/g)?.length>1?{existing:T(d,1),done:!0}:{done:!1}}function g(d){let v=[...e.cssRules].reduce((h,l,p)=>Ie(l.selectorText||"",d)&&h.concat(p)||h,[]),f=v.length;return v.forEach(h=>e.deleteRule(h)),f>0?console.info(`\u2714 Removed ${f} instance${f>1?"s":""} of selector ${d} from ${r.slice(4)}`):console.info(`\u2714 Remove rule: selector ${d} does not exist in ${r.slice(4)}`)}function b(d,v){return d&&m(d,String)&&d.trim().length>0&&m(v,Object)||(console.error(`StylingFactory ${r} called with invalid parameters`),!1)}function T(d){d=d.trim();let v=d.slice(0,d.indexOf("{")).trim(),f=!!a(v);try{return e.insertRule(`${d}`,e.cssRules.length),f}catch(h){return console.error(`StylingFactory ${r} (tryParse) ${h.name} Error:
${h.message}
Rule: ${ve(d)}
${n}`),f}}function $(d,v,f){try{return d(),f}catch(h){return console.error(`StylingFactory ${r} (tryAddOrModify) ${h.name} Error:
${h.message}
Rule: ${ve(v)}
${n}`),f}}return{sheet:e,removeRules:g,tryParseAtOrNestedRules:s,ruleExists:a,checkParams:b,tryParse:T,consider:$,currentSheetID:r}}function rr(e,t){return`${e.trim()} ${Object.entries(t).map(([n,r])=>`${n}: { ${nr(r)}`)}`}function ve(e){let t=(e||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return e.length>t.length?`${t.trim()}...truncated`:t}function nr(e){return Object.entries(e).map(([t,n])=>`${t}: ${n.trim()}`).join(`;
`)}function or(e){return e.replace(/([*\[\]()-+{}.$?\\])/g,t=>`\\${t}`)}function ir(e,...t){let n=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((r,i,o)=>r.concat(t[o-1]||"").concat(i),"")||e.raw.join("")).split(`
`).map(r=>r.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),n)}function ze(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function Fe(e,t){try{return e()}catch(n){console.error(`${t||"an error occured"}: ${n.message}`)}}function ar(e){return e.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(t,n)=>`${n}\\3b`).split(";").map(t=>t.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function lr(e){return e.reduce((t,n)=>{let[r,i]=[n.slice(0,n.indexOf(":")).trim(),n.slice(n.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return r&&i?{...t,[r]:i}:t},{})}function sr(e){return lr(ar(e))}function Ie(e,t){return e?.replace("::",":")===t?.replace("::",":")}var cr=[...Array(26)].map((e,t)=>String.fromCharCode(t+65)).concat([...Array(26)].map((e,t)=>String.fromCharCode(t+97))).concat([...Array(10)].map((e,t)=>`${t}`)),X=(e,t=2)=>`${e}`.padStart(t,"0"),ur=(e,t=0)=>([e,t]=[Math.floor(e),Math.ceil(t)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(e-t+1)+t)),dr=e=>{let t=e.length;for(;t--;){let n=ur(t);[e[t],e[n]]=[e[n],e[t]]}return e},I=(e,t=120)=>`${e}`.trim().slice(0,t).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(e.length>t?" &hellip;":"").trim(),re=e=>e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,""),mr=([e,...t])=>`${e.toUpperCase()}${t.join("")}`,Xe=e=>m(e,String)?e.toLowerCase().split("-").map((t,n)=>n&&`${mr(t)}`||t).join(""):e,V=()=>`_${dr(cr).slice(0,8).join("")}`,He=(e,t=120)=>I(e,t).replace(/&lt;/g,"<"),te=()=>(e=>`[${X(e.getHours())}:${X(e.getMinutes())}:${X(e.getSeconds())}.${X(e.getMilliseconds(),3)}]`)(new Date),ne=e=>e.replace(/</g,"&lt;");function fr(){let e=function(o){if(!o)return;let a=o.style,s=getComputedStyle(o),g=[a.visibility,s.visibility].includes("hidden"),b=[a.display,s.display].includes("none"),T=o.offsetTop<0||o.offsetLeft+o.offsetWidth<0||o.offsetLeft>document.body.offsetWidth,$=+s.opacity==0||+(a.opacity||1)==0;return!(T||$||b||g)},t="n/a",n=function(o){return o.parentNode?!!w.nodes(":is(:read-write)",o?.parentNode)?.find(a=>a===o):!1},r=function(o){return o.parentNode?!!w.nodes(":is(:modal)",o?.parentNode)?.find(a=>a===o):!1},i={notInDOM:!0,writable:t,modal:t,empty:!0,open:t,visible:t};return o=>{let a=o[0];return a?{get writable(){return n(a)},get modal(){return r(a)},get inDOM(){return!!a.parentNode},get open(){return a.open??!1},get visible(){return e(a)},get disabled(){return a.hasAttribute("readonly")||a.hasAttribute("disabled")},get empty(){return o.collection.length<1},get virtual(){return o.isVirtual}}:i}}var pr=!0,ee={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/javascript|injected|noreferrer|alert|DataURL/gi},gr=e=>{if(pr&&Object.keys(e.removed).length){let t=Object.entries(e.removed).reduce((n,[r,i])=>[...n,`${ne(r)} => ${i}`],[]).join("\\000A");O.log(`JQL HTML creation errors: ${O.isConsole?t:ne(t)}`)}},hr=function(e){let t=e.nodeName.toLowerCase(),n=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(t)&&!n.find(r=>r===t)||z.isAllowed(t)},et=e=>{let t={rawHTML:e?.parentElement?.getHTML()??"no html",removed:{}};return m(e,HTMLElement)&&[...e.childNodes].forEach(n=>{if(n?.children?.length&&et(n),n?.attributes){let r=m(n,SVGElement)?pe.svg:pe.html;[...(n??{attributes:[]}).attributes].forEach(i=>{let o=i.name.trim().toLowerCase(),a=i.value.trim().toLowerCase().replace(ee.whiteSpace,""),s=o==="href"?!ee.validURL.test(a):ee.notAllowedValues.test(a),g=o.startsWith("data")?!ee.data.test(o):!!r[o];if(s||g){let b=He(i.value||"none",60);b+=b.length===60?"...":"",t.removed[`${i.name}`]=`attribute/property (-value) not allowed, removed. Value: ${b}`,n.removeAttribute(i.name)}})}if(!hr(n)){let r=(n?.outerHTML||n?.textContent).trim(),i=He(r,60)??"EMPTY";i+=i.length===60?"...":"",t.removed[`<${n.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${i}`,n.remove()}}),gr(t),e},M=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(e,t){return e[String(t).toLowerCase()]??e[t]}}),yr=e=>{let t=document.createElement("div");return t.insertAdjacentHTML(M.end,e),t.childNodes.length?et(t):void 0},br=(e,t,n)=>m(e,Comment)?t.insertAdjacentHTML(n,`<!--${e.data}-->`):t.insertAdjacentText(n,e.data),Se=(e=[],t=document.body,n=M.BeforeEnd)=>e.reduce((r,i)=>{let o=xe(i)&&tt(i,t,n);return o?[...r,o]:r},[]),tt=(e,t=document.body,n=M.BeforeEnd)=>(t=t?.isJQL?t?.[0]:t,m(e,Comment,Text)?br(e,t,n):t.insertAdjacentElement(n,e)),Z=e=>{if(m(e,Text,Comment))return e;let t=e?.trim(),n=t?.split(/<text>|<\/text>/i)??[];if(n?.length&&(n=n.length>1?n.filter(i=>i.length).shift():void 0),t.startsWith("<!--")&&t.endsWith("-->"))return document.createComment(e.replace(/<!--|-->$/g,""));if(n||!/^<(.+)[^>]+>/m.test(t))return document.createTextNode(n);let r=yr(e);return r.childNodes.length<1?Z(`<span data-jqlcreationerror="1">${I(e,60)}</span>`):r.children[0]},D=(e,t)=>{let n=e.collection.filter(r=>!Er(r));for(let r=0;r<n.length;r+=1)t(n[r],r);return e},vr=fr(),Pe=e=>e&&(e.textContent=""),R=e=>{let t=e.cloneNode(!0);return t.removeAttribute&&t.removeAttribute("id"),e.isConnected?e.remove():e=null,t},rt=(e,t)=>{e&&m(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setAttribute(`data-${re(n)}`,r))},Re=(e,t)=>e.andThen(t,!0),qe=(e,t)=>e.andThen(t),nt=e=>e.startsWith("data")||pe.html.find(t=>e.toLowerCase()===t),Sr=(e,t,n)=>{n&&m(t,String)&&(t={[t]:n==="-"?"":n});let r;t.className&&(r=t.className,delete t.className),r=[...e.classList].find(i=>i.startsWith("JQLClass-")||r&&i===r)||r||`JQLClass-${V().slice(1)}`,w.editCssRule(`.${r}`,t),e.classList.add(r)},xr=(e,t)=>{e&&Object.entries(t).forEach(([n,r])=>{if(n.toLowerCase().startsWith("data"))return rt(e,r);m(r,String)&&nt(n)&&e.setAttribute(n,r.split(/[, ]/)?.join(" "))})},fe=(e,t)=>{m(t,Object)&&Object.entries(t).forEach(([n,r])=>{let i;/!important/i.test(r)&&(r=r.slice(0,r.indexOf("!")).trim(),i="important"),e.style.setProperty(re(n),r,i)})},$r={get(e,t){return e[Xe(t)]||e[t]}},wr=(...e)=>{O.log("\u2757"+e.map(t=>String(t)).join(", "))},Tr={factoryExtensions:{is:e=>vr(e),length:e=>e.collection.length,dimensions:e=>e.first()?.getBoundingClientRect(),parent:e=>{let t=w(e[0]?.parentNode);return t.is.empty?e:t},outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,data:e=>({get all(){return new Proxy(e[0]?.dataset??{},$r)},set:(t={})=>(!e.is.empty&&m(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setData({[n]:r})),e),get:(t,n)=>e.data.all[t]??n,add:(t={})=>(!e.is.empty&&m(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setData({[n]:r})),e),remove:t=>(e[0]?.removeAttribute(`data-${re(t)}`),e)}),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:t=>e.style(t),inSheet:t=>e.css(t),valueOf:t=>e.is.empty?void 0:getComputedStyle(e[0])[re(t)],nwRule:t=>e.Style.byRule({rules:t}),byRule:({classes2Apply:t=[],rules:n=[]}={})=>{let r=m(n,String)&&!t.length?n.split("{")[0].trim():"";return n=n&&m(n,String)?[n]:n,t=t&&m(t,String)?[t]:t,(n?.length||t?.length)&&(n?.length&&w.editCssRules(...n),t?.forEach(i=>e.addClass(i))),r?.startsWith(".")&&e.addClass(r.slice(1)),r?.startsWith("#")&&!e.attr("id")&&e.prop({id:r.slice(1)}),e}}),HTML:e=>({get:(t,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let r=t?e.outerHtml:e.html();return n?ne(r):r},set:(t,n=!1,r=!1)=>{t=t.isJQL?t.HTML.get(1):t;let i=m(t,String);return t=i&&r?ne(t):t,i&&(t||"").trim().length&&e.html(t,n),e},replace:(t,n=!1)=>e.HTML.set(t,!1,n),append:(t,n=!1)=>(t=m(t,HTMLElement)?t[Symbol.jqlvirtual].HTML.get(1):t.isJQL?t.HTML.get(1):t,e.HTML.set(t,!0,n)),insert:(t,n=!1)=>(t=m(t,HTMLElement)?t[Symbol.jqlvirtual].HTML.get(1):t.isJQL?t.HTML.get(1):t,e.HTML.set(t+e.HTML.get(),!1,n))})},instanceExtensions:{isEmpty:e=>e.collection.length<1,replaceClass:(e,t,...n)=>D(e,r=>{r.classList.remove(t),n.forEach(i=>r.classList.add(i))}),removeClass:(e,...t)=>D(e,n=>n&&t.forEach(r=>n.classList.remove(r))),addClass:(e,...t)=>D(e,n=>n&&t.forEach(r=>n.classList.add(r))),setData:(e,t)=>D(e,n=>rt(n,t)),show:e=>D(e,t=>fe(t,{display:"revert-layer !important"})),hide:e=>D(e,t=>fe(t,{display:"none !important"})),empty:e=>D(e,Pe),clear:e=>D(e,Pe),closest:(e,t)=>{let n=m(t,String)?e[0].closest(t):null;return n?w(n):e},style:(e,t,n)=>D(e,r=>{n&&m(t,String)&&(t={[t]:n||"none"}),fe(r,t)}),toggleClass:(e,t)=>D(e,n=>n.classList.toggle(t)),css:(e,t,n)=>D(e,r=>Sr(r,t,n)),text:(e,t,n=!1)=>e.isEmpty()?e:m(t,String)?D(e,r=>r.textContent=n?r.textContent+t:t):e.first().textContent,removeAttribute:(e,t)=>D(e,n=>n.removeAttribute(t)),each:(e,t)=>D(e,t),remove:(e,t)=>{B(`remove ${I(e.HTML.get(1),40)}${t?` /w selector ${t}`:""}`);let n=i=>i.remove(),r=()=>e.collection=e.collection.filter(i=>document.documentElement.contains(i));if(t){let i=e.find$(t);return i.is.empty||(D(i,n),r()),e}return D(e,n),r(),e},computedStyle:(e,t)=>e.first()&&getComputedStyle(e.first())[t],getData:(e,t,n)=>e.first()&&e.first().dataset?.[t]||n,hasClass:(e,...t)=>{let n=e[0];return!n||!n.classList.length?!1:t.find(r=>n.classList.contains(r))&&!0||!1},replace:(e,t,n)=>{let r=e[0];return!t||!n||!m(n,HTMLElement)&&!n.isJQL?(console.error("JQL replace: invalid replacement value"),e):(n.isJQL&&(n=n[0]),m(n,NodeList)&&(n=n[0]),r&&t&&(t=m(t,String)?r.querySelectorAll(t):t.isJQL?t.collection:t,m(t,HTMLElement,NodeList,Array)&&m(n,HTMLElement)&&(m(t,HTMLElement)?[t]:[...t]).forEach(i=>i.replaceWith(n.cloneNode(!0)))),e)},replaceWith:(e,t)=>(t=m(t,Element)?t:t.isJQL?t[0]:void 0,t&&(e[0].replaceWith(t),e=w.virtual(t)),e),replaceMe:(e,t)=>e.replaceWith(t),val:(e,t)=>{let n=e[0];return!n||!m(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:t===void 0?n.value:(n.value=m(t,String)?t:"",e)},attr:(e,t,n)=>{let r=e[0];return r?!n&&m(t,String)?t==="class"?[...r?.classList].join(" "):r?.getAttribute(t):(m(t,String)&&n&&(t={[t]:n}),m(t,Object)&&!e.is.empty&&xr(r,t),e):e},andThen:(e,t,n=!1)=>{if(!t||!m(t,String,Node,Proxy))return wr(`[JQL instance].[beforeMe | afterMe | andThen]: insufficient input [${t}]`),e;t=t?.isJQL?t.collection:m(t,Node)?w.virtual(t).collection:w.virtual(Z(t)).collection;let[r,i,o]=n?[0,"before",t.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(t)];return e[r][i](...t),e.collection=o,e},after:qe,afterMe:qe,before:Re,beforeMe:Re,append:(e,...t)=>{if(!e.is.empty&&t.length){let n=e.length===1;for(let r of t){if(!r.isJQL&&m(r,String)){let i=r.trim(),o=/^<(.+)[^>]+>$/m.test(i)?Z(r):w.text(r);D(e,a=>a.append(n?o:R(o)))}xe(r)&&D(e,i=>i.append(n?r:R(r))),r.isJQL&&!r.is.empty&&D(e,i=>r.collection.forEach(o=>i.append(n?o:R(o))))}}return e},prepend:(e,...t)=>{if(!e.is.empty&&t){let n=e.length===1;for(let r of t){if(m(r,String)){r=r.trim();let i=/^<(.+)[^>]+>$/m.test(r)?Z(r):w.text(r);i=n?i:R(i),D(e,o=>o.prepend(i.cloneNode(!0)))}xe(r)&&D(e,i=>i.prepend(n?r:R(r))),r.isJQL&&!r.is.empty&&(r.collection.length>1&&r.collection.reverse(),D(e,i=>D(r,o=>i.prepend(n?o:R(o)))),r.collection.reverse())}}return e},appendTo:(e,t)=>(t.isJQL||(t=w(t)),t.append(e),e),prependTo:(e,t)=>(t.isJQL||(t=w.virtual(t)),t.prepend(e),e),single:(e,t)=>e.collection.length>0?m(t,String)?e.find$(t):m(t,Number)?w(e.collection[t]):w(e.collection[0]):e,toNodeList:e=>[...e.collection].map(t=>document.importNode(t,!0)),duplicate:(e,t=!1,n=document.body)=>{let r=e.toNodeList().map(o=>o.removeAttribute&&o.removeAttribute("id")||o),i=w.virtual(r);return t?i.toDOM(n):i},toDOM:(e,t=document.body,n=M.BeforeEnd)=>(e.collection=Se(e.collection,t,n),e.isVirtual&&(e.isVirtual=!1),e),first:(e,t=!1)=>{if(e.collection.length>0)return t?e.single():e.collection[0]},first$:(e,t)=>e.single(t),nth$:(e,t)=>e.single(t),find:(e,t)=>e.collection.length>0?[...e.first()?.querySelectorAll(t)]:[],find$:(e,t)=>e.collection.length>0?w(t,e):e,prop:(e,t,n)=>{if(m(t,String)&&!n)return t.startsWith("data")?e[0]?.dataset[t.slice(t.indexOf("-")+1)]:e[0]?.[t];let r=m(t,Object)?t:{[t]:n};return Object.entries(r).forEach(([i,o])=>{if(i=i.trim(),o&&!nt(i)||!o)return!1;if(i.toLowerCase()==="id")return e[0].id=o;D(e,a=>{if(i.startsWith("data"))return a.dataset[i.slice(i.indexOf("-")+1)]=o;a[i]=o})}),e},on:(e,t,...n)=>(e.collection.length&&n?.forEach(r=>{let i=Ir(e);w.delegate(t,i,r)}),e),html:(e,t,n)=>{if(t===void 0)return e[0]?.getHTML();if(!e.isEmpty()){let r=Z(`<div>${t.isJQL?t.HTML.get(!0):t}</div>`);if(!m(r,Comment))return D(e,i=>(n||(i.textContent=""),i.insertAdjacentHTML(w.at.end,r.getHTML())))}return e},htmlFor:(e,t,n="",r=!1)=>{if(t&&e.collection.length){if(!t||!m(n,String))return e;let i=e.find$(t);if(i.length<1)return e;let o=Z(`<span>${n}</span>`);i.each(a=>{r||(a.textContent=""),a.insertAdjacentHTML(w.at.end,o.getHTML())})}return e},trigger:(e,t,n=Event,r={})=>{if(e.collection.length){let i=new n(t,{...r,bubbles:r.bubbles??!0});for(let o of e.collection)o.dispatchEvent(i)}return e}}},Ue=Tr,Dr=Cr;function Cr(e){let t=e.createStyle("JQLPopupCSS");At.forEach(l=>t(l));let n={},r,i,o,a=e.virtual('<div class="popup-warn">'),s=e('<div class="popupContainer">').append(e('<span class="closeHandleIcon">')).append(e('<div class="content">')),[g,b]=[e(".popupContainer > .closeHandleIcon"),e(".popupContainer > .content")],T=()=>{if(g.hasClass("popup-active")){let{x:l,y:p,width:S}=b.dimensions;g.style({top:`${p-12}px`,left:`${l+S-12}px`})}},$=()=>{i&&e(".popup-warn").clear().append(e(`<div>${i}</div>`)),b.addClass("popup-warn-active")},d=()=>{r=!1,h(g.first())},v=(l,p)=>o=setTimeout(()=>h(g[0]),+l*1e3);return e.delegate("click",".popupContainer, .closeHandleIcon",l=>h(l.target)),e.delegate("click",".popupContainer .content",(l,p)=>r&&p.removeClass("popup-warn-active")),e.delegate("resize",T),{show:f,create:(l,p,S,c)=>{let u=e.IS(p,Boolean)?p:!1;f({content:l,modal:u,callback:u?S:p,warnMessage:c})},createTimed:(l,p,S)=>f({content:l,closeAfter:p,callback:S}),removeModal:d};function f({content:l,modal:p,closeAfter:S,callback:c,warnMessage:u}){if(l){if(l=e.IS(l,Node)?l[Symbol.jqlvirtual]:l,clearTimeout(o),r=p??!1,i=e.IS(u,String)&&`${u?.trim()}`.length||u?.isJQL?u:void 0,b.clear().append(l.isJQL?l:e(`<div>${l}</div>`)),r&&u&&b.append(a.duplicate()),s.addClass("popup-active"),e.IS(c,Function)){let y=V();s.data.set({callbackId:y}),n[y]=c}if(!r){if(e.IS(+S,Number)){let y=s.data.get("callbackId"),x=y&&n[y];v(S,x)}g.addClass("popup-active"),T()}return!0}return console.error("Popup creation needs at least some text to show")}function h(l){if(!r&&!l.closest(".content")){clearTimeout(o),b.clear();let p=s.data.get("callbackId");s.data.remove("callbackId"),e(".popup-active").removeClass("popup-active");let S=p&&n[p];e.IS(S,Function)&&S(),p&&delete n[p],i="";return}return r&&$()}}var F={},Lr=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],Or=e=>!!Lr.find(t=>t===e),jr=()=>{let e=r=>F[r.type].forEach(i=>i(r)),t=(r,i)=>o=>{let a=o.target?.closest?.(r);return a&&i(o,w(a))},n=(r,i)=>{F[r]||addEventListener(r,e,Or(r))};return(r,i,o,a=!1)=>{n(r,a);let s=i?t(i,o):o;F=F[r]?{...F,[r]:F[r].concat(s)}:{...F,[r]:[s]}}},Nr={},{instanceMethods:Be,instanceGetters:We,isCommentOrTextNode:Er,isNode:xe,isComment:kn,isText:Mn,isHtmlString:kr,isArrayOfHtmlElements:Mr,isArrayOfHtmlStrings:Ar,ElemArray2HtmlString:Zr,input2Collection:zr,setCollectionFromCssSelector:Fr,addHandlerId:Ir,cssRuleEdit:$e,addFn:Hr,elems4Docs:An}=Pr();Symbol.jql=Symbol.for("jql");Symbol.jqlvirtual=Symbol.for("jqlvirtual");Symbol.jql2Root=Symbol.for("jql2dom");Symbol.JQLX=Symbol.for("NodeProxy");function Pr(){let e=be({createWithId:"JQLStylesheet"}),t=(l,p)=>n[l]=(S,...c)=>p(S,...c),n=Ue.instanceExtensions,r=Ue.factoryExtensions,i=l=>m(l,Comment,Text),o=l=>m(l,Text,HTMLElement,Comment),a=l=>m(l,Comment),s=l=>m(l,Text),g=l=>m(l,String)&&/^<|>$/.test(`${l}`.trim()),b=l=>m(l,Array)&&!l?.find(p=>!g(p)),T=l=>m(l,Array)&&!l?.find(p=>!o(p)),$=l=>l?.filter(p=>p).reduce((p,S)=>p.concat(a(S)?`<!--${S.data}-->`:i(S)?S.textContent:S.outerHTML),""),d=l=>l?m(l,Proxy)?[l.EL]:m(l,NodeList)?[...l]:o(l)?[l]:T(l)?l:l.isJQL?l.collection:void 0:[],v=(l,p,S)=>{let c=p!==document.body&&m(l,String)&&l.toLowerCase()!=="body"?p:document,u;try{S.collection=[...c.querySelectorAll(l)]}catch{u=`Invalid CSS querySelector. [${m(l,String)?l:"Nothing valid given!"}]`}return u??`CSS querySelector "${l}", output ${S.collection.length} element(s)`},f=l=>{let p=l.data.get("hid")||`HID${V()}`;return l.data.add({hid:p}),`[data-hid="${p}"]`},h=Object.entries(z.tagsRaw).filter(([,l])=>l).map(([l])=>l).sort((l,p)=>l.localeCompare(p));return{instanceMethods:n,instanceGetters:r,isCommentOrTextNode:i,isNode:o,isComment:a,isText:s,isHtmlString:g,isArrayOfHtmlElements:T,isArrayOfHtmlStrings:b,ElemArray2HtmlString:$,input2Collection:d,setCollectionFromCssSelector:v,addHandlerId:f,cssRuleEdit:e,addFn:t,elems4Docs:h}}function W(e){let t=o=>(...a)=>m(o,Function)&&o(W(e),...a),n=o=>(...a)=>m(o,Function)?{tmpKey:o(W(e),...a)}:{tmpKey:void 0},r=(o,a)=>m(a,Symbol)?()=>o:m(+a,Number)?o.collection?.[a]:a in We?n(We[a])().tmpKey:a in Be?t(Be[a]):o[a],i={get:(o,a)=>r(o,a)};return new Proxy(e,i)}function Rr(e){Object.defineProperties(Node.prototype,{[Symbol.jql]:{get(){return e(this)},enumerable:!1,configurable:!1},[Symbol.jqlvirtual]:{get(){return e.virtual(this)},enumerable:!1,configurable:!1},[Symbol.jql2Root]:{value(n=document.body,r=M.end){return e(this,n,r)},enumerable:!1,configurable:!1}});let t=qr(e);return Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([n,r])=>{Object.defineProperty(e,n,r),Object.defineProperty(Nr,n,r)}),e}function qr(e){return Jr(Object.entries(z.tagsRaw).reduce(Qr(e),{}),Ur(e))}function Ur(e){let t=(n,r)=>$e(n,r);return{debugLog:O,log:(...n)=>k("fromStatic",...n),insertPositions:M,get at(){return M},editCssRules:(...n)=>n.forEach(r=>$e(r)),editCssRule:t,get setStyle(){return t},delegate:Br(jr()),virtual:Wr(e),get fn(){return Hr},allowTag:n=>{n=n.toLowerCase(),z.allowTag(n),m(e[n],Function)||Object.defineProperties(e,ot(n,e))},prohibitTag:z.prohibitTag,get lenient(){return z.allowUnknownHtmlTags},get IS(){return m},get Popup(){return e.activePopup||Object.defineProperty(e,"activePopup",{value:Dr(e),enumerable:!1}),e.activePopup},popup:()=>e.Popup,createStyle:n=>be({createWithId:n||`jql${V()}`}),editStylesheet:n=>be({createWithId:n||`jql${V()}`}),removeCssRule:Je,removeCssRules:Je,text:(n,r=!1)=>r?e.comment(n):document.createTextNode(n),node:(n,r=document)=>r.querySelector(n,r),nodes:(n,r=document)=>[...r.querySelectorAll(n,r)]}}function Je(...e){if(e.length===1){let t=String(e.shift().trim());e=t.startsWith("!")?[t.slice(1,-1)]:t.split(",").map(n=>n.trim())}e.map(t=>t.startsWith("!")?t.slice(1,-1):t).forEach(t=>$e(t,{removeRule:1}))}function Br(e){return function(t,n,...r){return m(n,Function)&&(r.push(n),n=void 0),r.forEach(i=>e(t,n,i))}}function Wr(e){return function(t,n,r){n=n?.isJQL?n?.[0]:n,r=r&&Object.values(M).find(o=>r===o)?r:void 0;let i=e(t,document.createElement("br"));return n&&!m(n,HTMLBRElement)&&i.collection.forEach(o=>r?n.insertAdjacentElement(r,o):n.append(o)),i}}function Jr(...e){let t={};for(let n of e){let r=Object.getOwnPropertyDescriptors(n);Object.entries(r).forEach(([i,o])=>!(i in t)&&Object.defineProperty(t,i,o))}return t}function Qe(e,t){return e=e.toLowerCase(),{get(){return(...n)=>m(t,Function)?z.tagsRaw[e.toLowerCase()]&&t.virtual(Me[e](...n))||void 0:z.tagsRaw[e.toLowerCase()]&&Me[e](...n)||void 0},enumerable:!1,configurable:!1}}function ot(e,t){let n=Qe(e),r=Qe(e.replace(/_jql$/i,""),t),i={[e]:n,[e.toUpperCase()]:n,[`${e}_jql`]:r,[`${e.toUpperCase()}_JQL`]:r};return/\-/.test(e)&&(e=Xe(e),i[e]=n,i[`${e}_jql`]=r),i}function Qr(e){return function(t,[n,r]){return Object.defineProperties(t,ot(n,e)),t}}var w=Rr(Vr());function Vr(){return function(e,t,n=M.BeforeEnd){let r=m(t,HTMLBRElement);t=(!r&&t&&t.isJQL?t[0]:t)||document.body,n=n&&Object.values(M).find($=>n===$)?n:void 0;let i=kr(e),o=!i&&Ar(e),a=o||i,s={collection:zr(e)??[],isVirtual:r,isJQL:!0},g=Mr(s.collection);location.host.startsWith("dev")&&(s.params={virtual:s.isVirtual,jql:s.isJQL,isRawHtml:i,isRawHtmlArray:o,isRawElemCollection:g});let b=`input =&gt; ${o?`"${I(e.join(", "),70)}"`:!a&&g?`element collection [${I(s.collection.map($=>`${m($,Comment,Text)?"Comment|Text @":""} ${$?.outerHTML||$?.textContent}`).join(", "),70)}]`:`"${I(e,70)}"`}`;if(s.collection.length&&g)return B(b),r||s.collection.forEach($=>{t.contains($)||Se([$],t,n)}),W(s);if(a){if([e].flat().forEach($=>s.collection.push(Z($))),s.collection.length>0){let $=s.collection.filter(d=>d?.dataset?.jqlcreationerror);s.collection=s.collection.filter(d=>!d?.dataset?.jqlcreationerror),B(`${b}`),B(`*Created ${s.isVirtual?"VIRTUAL ":""}[${I(Zr(s.collection)||"sanitized: no elements remaining",70)}]`),$.length&&console.error(`JQL: illegal html, not rendered: "${$.reduce((d,v)=>d.concat(`${v.textContent}
`),"").trim()}"`),s.isVirtual||Se(s.collection,t,n)}return W(s)}let T=Fr(e,t,s);return B(`input => ${T}`),W(s)}}var le=Yr();function Yr(){let[e,t,n,r]=["2-digit","numeric","long","short"],i={fixed:{MM:{month:n},M:{month:r},m:{month:t},mm:{month:e},yyyy:{year:t},yy:{year:e},WD:{weekday:n},wd:{weekday:r},d:{day:t},dd:{day:e},h:{hour:t},hh:{hour:e},mi:{minute:t},mmi:{minute:e},s:{second:t},ss:{second:e},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:d=>({timeZoneName:d.slice(4)}),hrc:d=>({hourCycle:`h${d.slice(4)}`}),ds:d=>({dateStyle:d.slice(3)}),ts:d=>({timeStyle:d.slice(3)}),tz:d=>({timeZone:d.slice(3)}),e:d=>({era:d.slice(2)}),l:d=>({locale:d.slice(2)})}},o={...i,retrieveDyn(d){let v=d?.slice(0,d.indexOf(":"));return i.dynamic[v]&&i.dynamic[v](d)},get re(){return new RegExp(`\\b(${Object.keys(i.fixed).join("|")})\\b`,"g")}},a=(d="dtf",v=0)=>{let f=` ${d.replace(/(?<=\{)(.+?)(?=})/g,l=>`[${v++}]`).replace(/[{}]/g,"").trim()} `,h=d.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return h},formatString(l){f=l},set formatStr(l){f=l},get formatStr(){return f},get units(){return f.match(o.re)||[]},finalize(l="",p="",S="",c=""){return f.replace(/~([\d+]?)/g,"$1").replace(/dtf/,l).replace(/era/,S).replace(/dp\b|~dp\b/,p).replace(/yn\b/,c).replace(/\[(\d+?)]/g,(u,y)=>h[y].trim()).trim()}}},s=d=>d.replace(/\s+/g,""),g=(...d)=>d?.reduce((v,f)=>({...v,...o.retrieveDyn(f)||o.fixed[f]}),o.fixed.dl),b=(d,v,f)=>{let h=g(...s(f).split(",")),l=Intl.DateTimeFormat(h.locale,h).format(d);return v.finalize(l)},T=(d,v,f,h)=>d.toLocaleString(v,{timeZone:f,month:h?r:n}),$=(d,v,f)=>{let h=g(...v.units.concat(s(f).split(",")).flat()),l={...o.fixed},p=(c,u)=>h[c]==="numeric"&&u.startsWith("0")?u.slice(1):u,S=Intl.DateTimeFormat(h.locale,h).formatToParts(d).reduce((c,u)=>u.type==="literal"&&/[ ,/-]/.test(u.value)?c:{...c,[u.type]:p(u.type,u.value)},{});return l.ms=h.fractionalSecondDigits?l.msp:l.ms,l.yyyy=S.relatedYear?l.ry:l.yyyy,v.formatStr=v.formatStr.replace(o.re,c=>/^(M|MM)$/.test(c)?T(d,h.locale,h.timeZone,/^M$/.test(c)):S[Object.keys(l[c]).shift()]||c),v.finalize(void 0,S.dayPeriod,S.era,S.yearName)};return(d,v,f="l:default")=>/ds:|ts:/.test(f)?b(d,a(void 0),f):$(d,a(v||void 0),f)}var _r=Gr;function Gr(){let e=(r,i)=>{let o=isNaN(new Date(r)),a=isNaN(new Date(i));if(a){let[s,g,b]=Array(3).fill("end date not valid");return{error:!0,message:s,full:g,clean:b}}if(o){let[s,g,b]=Array(3).fill("start date not valid");return{error:!0,message:s,full:g,clean:b}}if(o&&!a){let[s,g,b]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:s,full:g,clean:b}}return{error:!1}},t=n();return function({start:r,end:i,diffs:o={}}={}){let a=e(r,i),s=i>r?"+":"-";if(a.error)return a;let g=Math.abs(r-i),b=new Date(g),T=b.getUTCFullYear()-1970,$=b.getUTCMonth(),d=b.getUTCDate()-1,v=d%7,f=Math.floor(d/7),h=b.getUTCHours(),l=b.getUTCMinutes(),p=b.getUTCSeconds(),S=b.getUTCMilliseconds(),c=Math.floor(g/864e5);o={...o,fromUTC:r,toUTC:i,sign:"",years:T,months:$,days:d,hours:h,minutes:l,seconds:p,milliseconds:S,diffInDays:c},o.full=t({values:o,full:!0}),o.clean=t({values:o}),o.equalDates=o.clean==="Dates are equal";let u=h+l+p>0?"T":"";return o.clean!=="Dates are equal"&&(o.sign=s,o.jsPeriod=`${s}P${T>0?`${T}Y`:""}${$>0?`${$}M`:""}${f>0?`${f}W`:""}${v>0?`${v}D`:""}${u}${h>0?`${h}H`:""}${l>0?`${l}M`:""}${p>0?`${p}S`:""}`,o.ISOPeriod=`P${T>0?`${T}Y`:""}${$>0?`${$}M`:""}${d>0?`${d}D`:""}${u}${h>0?`${h}H`:""}${l>0?`${l}M`:""}${p>0?`${p}S`:""}`),o};function n(){let r=(...o)=>a=>o.reduce((s,g)=>g(s),a),i=(o,a)=>o===1?a.slice(0,-1):a;return r(({values:o,full:a})=>[Object.entries(o).filter(([s])=>/^(years|month|days|hours|minutes|seconds)/i.test(s)),a],([o,a])=>a?o:o.filter(([,s])=>a?+s:s>0),o=>o.reduce((a,[s,g])=>[...a,`${g} ${i(g,s)}`],[]),o=>o.length<1?"Dates are equal":`${o.slice(0,-1).join(", ")}${o.length>1?" and ":""}${o.slice(-1).shift()}`)}}var Kr=Xr;function Xr(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[i,o])=>({...r,[i]:o,[`${i}s`]:o}),{}),t=!1,n=function(...r){let i=r.length===1;return t=r[0].trim().startsWith("subtract,"),t&&(r=i?r[0].trim().replace(/^subtract,/i,"").split(",").map(o=>o.trim()):r.filter(o=>!o.startsWith("subtract"))),i&&!t&&(r=r[0].split(",").map(o=>o.trim())),r.map(function(o){if(!o)return!1;let a=o.toLowerCase().split(/ {1,}/);return a.length<2?!1:a.map(s=>{s=`${s}`.trim().replace(/[^a-z0-9-+]/g,"");let g=parseInt(s,10);return Number.isNaN(g)?s:t?-g:+g})}).filter(o=>o)};return function(r,...i){if(i.length<1)return r;let o=n(...i);return o.length&&o.forEach(([a,s])=>{s=s,s=e[s],a&&s&&r[`set${s}`](r[`get${s}`]()+a)}),r}}var vt=_r(),St=cn(),A=Kr();function it(e,...t){return A(e,...t),e}function Te(e,{start:t,end:n,future:r,past:i,include:o={start:!1,end:!1}}={}){let a=e.clone.UTC;return t=t?.value||t?.constructor===Date?C(t?.value||t).UTC:C.now.UTC,n=n&&n?.value||n?.constructor===Date?C(n?.value||n).UTC:C.now.UTC,a.milliseconds=0,t.milliseconds=0,n.milliseconds=0,r?t>n:i?t<n:(o.start?+a>=+t:+a>+t)&&(o.end?+a<=+n:+a<+n)}function at(e,{zoneTime:t=!1,formatStr:n,moreOptions:r}={}){return t?(r=(r||"").startsWith("+")?`${e.formatOptions},${r.slice(1)}`:r||e.localeInfo.formatOptions,e.localeInfo||(e.localeInfo=j),le(e,n,r)):en(e,n,r)}function en(e,t,n){let r=e.clone.relocate(j);return n=(n||"").startsWith("+")?`${r.localeInfo.formatOptions},${n.slice(1)}`:n||r.localeInfo.formatOptions,le(r,t,n)}function tn(e,t){let n=vt({start:e,end:t||e});return parseInt(`${n.sign}${n.diffInDays}`)}function lt(e,t=!1){let{locale:n,timeZone:r}=t?e.localeInfo:j,i=Nt(n,r),o=e.format("MM|WD",i).split("|");return{locale:n,timeZone:r,monthName:o[0],dayName:o[1],dayNames:jt(n),monthNames:Ne(n)}}function st(e,t=!1){let[n,r,i,o]=De(e,t),a={values4Timezone:t?j.timeZone:e.timeZone,hours:n,minutes:r,seconds:i,milliseconds:o};return Object.freeze(a)}function De(e,t=!1){let n=`l:en-CA${t?`,tz:${j.timeZone}`:`,tz:${e.timeZone}`},hrc:23`;return e.format("hh-mmi-ss",n).split(/-/).map(Number).concat(e.getMilliseconds())}function ct(e,t){let n=t?`tz:${j.timeZone}`:`,tz:${e.timeZone}`,[r,i,o]=e.format("yyyy-mm-dd",n).split(/-/).map(Number);i-=1;let a=t?j.timeZone:e.timeZone;return Object.freeze({values4Timezone:a,year:r,month:i,date:o})}function ut(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let n=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return n[1]-=1,n}function rn(e,{sunday:t=!1}={}){return Ce(e,{day:t?"sunday":"monday"})}function nn(e,t){let n=e.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000",r=t.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000";return n=Le(n.slice(0,3)+":"+n.slice(-2),!0),r=Le(r.slice(0,3)+":"+r.slice(-2),!0),[-n[0]+r[0],-n[1]+r[1]].map(i=>n[0]<0?-i:i)}function xt({start:e,end:t}={}){t||(t=e.clone),t?.clone||(t=C(t,{timeZone:e.timeZone})),e=C(pt(e,e.timeZone),{timeZone:e.timeZone}),t=C(pt(t,t.timeZone),{timeZone:t.timeZone});let n=vt({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}}),r=nn(t,e),i=r[0]>0?"ahead of":"behind",[o,a]=r.map(b=>Math.abs(b)),[s,g]=[`${o} ${G(o,"hour")}`,`${a} ${G(a,"minute")}`];return n.timeZonesOffsetDifference=n.sign.length<1||o+a===0?`Offsets of ${e.timeZone} and ${t.timeZone} are equal`:`${e.timeZone} is ${s}${a>0?` and ${g}`:""} ${i} ${t.timeZone}`,n}function on(e){return e==="+"?"-":"+"}function dt(e,t){let n=String(t).toLowerCase()==="utc"||t.timeZone==="UTC";t=n?e.clone.relocate({timeZone:"UTC"}):C(e.value,{timeZone:t.timeZone||j.timeZone});let r=xt({start:e.clone,end:t}),i=`${n?on(r.sign):r.sign}${mt(r.hours)}:${mt(r.minutes)}`;return{fromTZ:e.timeZone,toTZ:t.timeZone,offset:i,offsetText:`${t.timeZone} `+an(i)+` ${e.timeZone}`}}function mt(e,t=2){return`${e}`.padStart(t,"0")}function G(e,t){return`${t}${e>1||e===0?"s":""}`}function an(e){if(/00:00/.test(e))return"no time diffence to";let t=e.slice(1).split(":").map(Number),[n,r]=t,i=e.at(0)==="+";return r>0?`${n} ${G(n,"hour")} and ${r} ${G(r,"minute")} ${i?"ahead of":"behind"}`:`${n} ${G(n,"hour")} ${i?"ahead of":"behind"}`}function ft(e,t,n){return e.clone.format(t,n||e.localeInfo.formatOptions)}function ln(e,{withFormat:t,withFormatOptions:n,local:r=!1}={}){if(t)return r?ft(e,t,$D.localeInformation.formatOptions):ft(e,t,n);let i=e.clone.relocate({locale:"en"}),o=r?j.formatOptions:i.localeInfo.formatOptions,a=`wd M dd yyyy hh:mmi:ss ${i.format("tz",o+",tzn:longOffset").replace(":","")} (tz)`;return i.format(a,o+",tzn:long, hrc:23")}function $t(e,t=!1){let n=Intl.DateTimeFormat("en",{timeZone:t?e.timeZone:j.timeZone,weekday:"short"});return St(n.format(e))}function sn(e){let t=j,n=e.localeInfo,r=e.clone.relocate({locale:t.locale,timeZone:t.timeZone}),i=e.offsetFrom(r),o=r.offsetFrom(e),a=t,s=n,g=e.format("hh:mmi:ss dp",`hrc:12,tz:${e.timeZone}`),b=r.format("hh:mmi:ss dp",`hrc:12,tz:${r.timeZone}`),T={note:"'user' are values for your locale/timeZone, 'remote' (if applicable) idem for the instance",locales:{user:{locale:a.locale,timeZone:a.timeZone}},dateTime:{user:{...e.dateTime,monthName:r.monthName,weekdayNr:r.day,weekdayName:r.dayName,dayPeriodTime:b,hasDST:r.hasDST,DSTActive:r.DSTActive,offsetFromRemote:i.offset,string:r.toString()}},offset:{fromUTC:e.UTC.offsetFrom(e).offsetText}};return n.timeZone!==t.timeZone&&(T.locales.remote={locale:s.locale,timeZone:s.timeZone},T.dateTime.remote={...e.zoneDateTime,monthName:e.zoneNames.monthName,weekdayNr:$t(e,!0),weekdayName:e.zoneNames.dayName,dayPeriodTime:g,hasDST:e.hasDST,DSTActive:e.DSTActive,offsetFromUser:o.offset,string:e.toString()},T.offset.fromUserTime=o.offsetText),T}function oe(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let n=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return n[1]-=1,n}function wt(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function Tt(e,t){t=N({locale:t}).locale;let n=e.clone.relocate({locale:t});return n.date={date:1},[n].concat([...Array(wt(n)-1)].map((r,i)=>n.clone.add(`${i+1} days`)))}function Ce(e,{day:t,next:n=!1}={}){let r=St(t?.toLowerCase()),i=C(new Date(...e.dateTimeValues),e.localeInfo);return r<0?(console.error(`[TickTock instance].next/previous invalid day value ${t}`),i):Dt(i,r,n?1:-1)}function Dt(e,t,n){return A(e,`${n} day`).getDay()<t?Dt(e,t,n):e}function ie(e,{dateOnly:t=!1,timeOnly:n=!1}={}){e.localeInfo||(e.localeInfo=_());let{locale:r,timeZone:i}=e.localeInfo;return t?new Date(e).toLocaleDateString(r,{timeZone:i}):n?new Date(e).toLocaleTimeString(r,{timeZone:i}):new Date(e).toLocaleString(r,{timeZone:i})}function pt(e,t){let n={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",n))}function Y(e,{year:t,month:n,date:r}={}){return E(t)&&e.setFullYear(t),E(r)&&e.setDate(r),E(n)&&e.setMonth(n),e}function U(e,{hours:t,minutes:n,seconds:r,milliseconds:i}={}){return E(t)&&e.setHours(t),E(n)&&e.setMinutes(n),E(r)&&e.setSeconds(r),E(i)&&e.setMilliseconds(i),e}function Ct(e){return e?.constructor===Date||e?.value}function gt(e,t){return Ct(t)?C(t?.value||t,e.localeInfo):C.from(...e.dateTimeValues).relocate(e.localeInfo)}function cn(){let e={short:["sun","mon","tue","wed","thu","fri","sat"],long:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]};return function(t){t=`${t}`.toLowerCase();let n=e.short.indexOf(t);return n<0?e.long.indexOf(t):n}}function Le(e,t=!1){if(t){let n=e.slice(1).split(/[-:]/).map(Number),r=e.slice(0,1)==="-";return n=n.map(i=>r?-i:i),n}return Number(e.split(/[+-]/).slice(-1)[0].replace(/:/,""))}function un(e){return e.time={hours:0,minutes:0,seconds:0,milliseconds:0},e}function ht(e,t){return Intl.DateTimeFormat("en-CA",{timeZone:t,timeZoneName:"long"}).format(e).split(/,/)[1].trim()}function dn(e){let t=e.timeZone,n=ht(new Date(e.year,0,1),t),r=ht(new Date(e.year,5,1),t);return n!==r}function mn(e){return e.hasDST?!/standard/i.test(e.toString()):!1}function fn(e,{locale:t,timeZone:n,l:r,tz:i}={}){return e.localeInfo=N({locale:r||t||e.l||e.locale,timeZone:i||n||e.tz||e.timeZone}),e}function pn(e,t){return Ct(t)&&(e=C(t.value||t,t.localeInfo||e.localeInfo)),e}function je(e,t){let n=Lt(new Date(e,11,t||31));return n===1?je(e,(t||31)-1):n}function yt(e,t){let n=e.month;switch(!0){case n<3:return t?1:"First";case n<6:return t?2:"Second";case n<9:return t?3:"Third";case n<12:return t?4:"Fourth";default:return"unknown"}}function Lt(e){let t=new Date(e),n=(t.getDay()+6)%7;t.setDate(t.getDate()-n+3);let r=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t)/6048e5)}var Ot=gn;function gn({localeInfo:e,customMethods:t,dateValue:n}={}){let r,i={add(...o){return it(r,...o)},between({start:o,end:a,include:s}={}){return Te(r,{start:o,end:a,include:s})},cloneWith(o){return gt(r,o)},daysUntil(o){return tn(r,o)},differenceTo(o){return xt({start:r,end:o})},differenceUntil(o){return r.differenceTo(o).clean},firstWeekday({sunday:o=!1,midnight:a=!1}={}){return rn(r,{sunday:o,midnight:a})},format(o,a){return at(r,{formatStr:o,moreOptions:a})},fullMonth(o){return Tt(r,o)},isFuture(o){return Te(r,{start:r,end:o,future:!0})},isPast(o){return Te(r,{start:r,end:o,past:!0})},next(o){return Ce(r,{day:o,next:!0})},offsetFrom(o){return dt(r,o)},previous(o){return Ce(r,{day:o,next:!1})},relocate({locale:o,timeZone:a,l:s,tz:g}={}){return fn(r,{locale:o,timeZone:a,l:s,tz:g})},revalue(o){return r=pn(r,o),r},setDateValues({year:o,month:a,date:s}={}){return Y(r,{year:o,month:a,date:s})},setTimeValues({hours:o,minutes:a,seconds:s,milliseconds:g}={}){return U(r,{hours:o,minutes:a,seconds:s,milliseconds:g})},subtract(...o){return it(r,"subtract,"+o.join(","))},toArray(o=!1){return oe(r,o)},toString({template:o,formatOptions:a,local:s}={}){return ln(r,{withFormat:o,withFormatOptions:a,local:s})},values(o=!1){return o?r.dateTime:r.zoneDateTime},zoneFormat(o,a){return at(r,{zoneTime:!0,formatStr:o,moreOptions:a})},set date({year:o,month:a,date:s}){Y(r,{year:o,month:a,date:s})},set dateNr(o){Y(r,{date:o})},set hours(o){U(r,{hours:o})},set localeInfo({locale:o,timeZone:a,l:s,tz:g}){e=_({locale:o,timeZone:a,l:s,tz:g})},set milliseconds(o){U(r,{milliseconds:`${o}`})},set minutes(o){U(r,{minutes:o})},set month(o){Y(r,{month:o})},set seconds(o){U(r,{seconds:o})},set time({hours:o,minutes:a,seconds:s,milliseconds:g}){U(r,{hours:o,minutes:a,seconds:s,milliseconds:g})},set year(o){Y(r,{year:o})},get age(){return r.differenceTo(new Date).years},get ageFull(){return r.differenceTo(new Date).clean},get clone(){return gt(r)},get date(){return ct(r,!0)},get dateNr(){return r.date.date},get dateTime(){return{...r.date,...r.time}},get dateTimeValues(){return oe(r,!0)},get dateValues(){return ut(r,!0)},get day(){return r.getDay()},get dayName(){return r.names.dayName},get daysThisMonth(){return wt(r)},get DSTActive(){return mn(r)},get hasDST(){return dn(r)},get hours(){return r.time.hours},get info(){return sn(r)},get isLeapYear(){return new Date(r.getFullYear(),2,0).getDate()===29},get ISO(){return r.toISOString()},get local(){return ie(r)},get localDate(){return ie(r,{dateOnly:!0})},get locale(){return(e||_()).locale},get localeInfo(){return e},get localeString(){return ie(r)},get localTime(){return ie(r,{timeOnly:!0})},get milliseconds(){return r.getMilliseconds()},get minutes(){return r.time.minutes},get month(){return r.date.month},get monthName(){return r.names.monthName},get names(){return lt(r)},get quarter(){return yt(r)},get quarterNr(){return yt(r,!0)},get removeTime(){return un(r)},get seconds(){return r.time.seconds},get time(){return st(r,!0)},get timeValues(){return De(r,!0)},get timeZone(){return(e||_()).timeZone},get unixEpochTimestamp(){return Math.floor(+r/1e3)},get userLocaleInfo(){return j},get UTC(){return r.clone.relocate({locale:r.locale,timeZone:"UTC"})},get UTCOffset(){return dt(r,"UTC")},get value(){return new Date(r)},get weeknr(){return Lt(r)},get weeksInYear(){return je(r.year,31)},get year(){return r.date.year},get zoneDate(){return ct(r,!1)},get zoneDateNr(){return r.zoneDate.date},get zoneDateTime(){return{...r.zoneDate,...r.zoneTime}},get zoneDateTimeValues(){return oe(r,!1)},get zoneDateValues(){return ut(r,!1)},get zoneDay(){return $t(r,!0)},get zoneDayname(){return r.zoneNames.dayName},get zoneHours(){return r.zoneTime.hours},get zoneMinutes(){return r.zoneTime.minutes},get zoneMonth(){return r.zoneDate.month},get zoneMonthname(){return r.zoneNames.monthName},get zoneNames(){return lt(r,!0)},get zoneSeconds(){return r.zoneTime.seconds},get zoneTime(){return st(r)},get zoneTimeValues(){return De(r)},get zoneYear(){return r.zoneDate.year},get zoneValues(){return r.zoneDateTime},get zoneArray(){return oe(r,!1)}};return!e&&!n?i:(i.localeInfo=e||_(),r=new Proxy(n,hn(i)),Object.entries(Object.getOwnPropertyDescriptors(Et(r,t))).forEach(([o,a])=>Object.defineProperty(i,o,a)),Object.freeze(r))}function hn(e){return{get(t,n){return n!=="toString"&&n in t?t[n].bind(t):Reflect.get(e,n)},set(t,n,r){return n in e&&Reflect.set(e,n,r)}}}var j=Oe(Intl.DateTimeFormat().resolvedOptions()),yn=Object.getOwnPropertyNames(Date.prototype).filter(e=>e.startsWith("set")).reduce((e,t)=>[...e,{native:t,syn:"change"+t.slice(3)}],[]);function jt(e="en-GB"){return e=N({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function Ne(e="en"){return e=N({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function bn({year:e,locale:t}={}){e=E(e)?+e:new Date().getFullYear();let n={year:e,calendar:{}},r=Ne().long.map(i=>i.toLowerCase());for(let i=0;i<12;i+=1){let o=C.from(e,i,1);n.calendar[r[i]]=Tt(o,t)}return n}function vn({year:e,monthNr:t,locale:n="en-CA"}={}){let r=E(t)&&+t>=1&&+t<=12;return n=N({locale:n}).locale,e=E(t)?+e:new Date().getFullYear(),t=r?+t-1:void 0,r?C.from(e,t,1).relocate({locale:n}).fullMonth(n):"MonthNr should be a specific number (1 = january - 12 = december)"}function Oe(e){let t=Nt(e.locale,e.timeZone);return Object.defineProperty(e,"formatOptions",{value:t,enumerable:!1})}function Nt(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(n=>n).join(",")}function N({locale:e,timeZone:t,l:n,tz:r}={}){try{return Oe(Intl.DateTimeFormat(e||n,{timeZone:t||r}).resolvedOptions())}catch{return j||Oe(Intl.DateTimeFormat().resolvedOptions())}}function _({locale:e,timeZone:t,l:n,tz:r}={}){return N({locale:e,timeZone:t,l:n,tz:r},!0)}function bt(e){return!Number.isNaN(+e)&&e?.constructor===Date&&!e?.toISOString?.().startsWith("1970-01-01T00:00:00")?e:new Date}function Sn(e){let t=new Date;switch(!0){case e?.constructor===String:return bt(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return e.length===1?new Date(e[0],0,1):new Date(...e);case e?.constructor===Date:return bt(e);default:return t}}function xn({timeZoneDate:e,timeZoneID:t,userTimeZoneID:n}={}){let r={timeZone:N({timeZone:t}).timeZone},i={timeZone:N({timeZone:n||""}).timeZone},o=C(e,r),a=C(e,i),s=a.differenceTo(o),g=o.offsetFrom(a).offset,[b,T]=Le(g,!0),$=a.clone.add(`${b} hours, ${T} minutes`),d=s.equalDates?"No difference":`Time offset ${g}: ${i.timeZone} is ${s.clean} ${b<0?"behind":"ahead of"} ${r.timeZone}`;return{remoteTimezone:r.timeZone,userTimezone:i.timeZone,timeDifference:d,result:{[r.timeZone.replace(/\//,"_")]:C(e).toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"}),[i.timeZone.replace(/\//,"_")]:$.toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"})}}}function E(e){return!Number.isNaN(parseInt(e))&&!Number.isNaN(+e)}function ae(e,t,n){return e?.constructor===Number?A(t,`${e} ${n}`):t}function $n(e){let t={addYears(n=1){return ae(n,e,"years")},addMonths(n=1){return ae(n,e,"months")},addWeeks(n=1){return n=n?.constructor===Number?n*7:1,ae(n,e,"days")},addDays(n=1){return ae(n,e,"days")},get nextYear(){return A(e,"1 year")},get nextWeek(){return A(e,"7 days")},get previousWeek(){return A(e,"-7 days")},get previousYear(){return A(e,"-1 year")},get nextMonth(){return A(e,"1 month")},get previousMonth(){return A(e,"-1 month")},get tomorrow(){return A(e,"1 day")},get yesterday(){return A(e,"-1 day")}};for(let n of yn)t[n.syn]=function(...r){return e[n.native](...r),e};return t}function Et(e,t){let n=$n(e);for(let[r,i]of Object.entries(t||{})){let o=i.enumerable,a=i.isGetter?{get(){return i.method(e)},enumerable:o}:{value(...s){return i.method(e,...s)},enumerable:o};Object.defineProperty(n,r,a)}return n}function wn(e,t){return Object.defineProperties(e,{now:{get(){return e(new Date)}},localeInformation:{get(){return N()}},localWeekdaynames:{value(n){return jt(n)}},localMonthnames:{value(n){return Ne(n)}},daysInMonth:{value(n,r=!1){return E(n)&&+n>=1&&+n<=12?new Date(r?2e3:2005,n,0).getDate():`${n} should be a Number (1 (january) - 12 (december))`}},yearCalendar:{value:bn},monthCalendar:{value:vn},from:{value(...n){return e(n)}},fromUxTS:{value(n,r){n=E(n)?+n*1e3:void 0;let i=n?new Date(n):new Date;return C(i,r||j)}},values:{value({date:n,timeZone:r}={}){n=n||n?.value||new Date;let i=le(n,"yyyy-m-d-h-mi-s",N({timeZone:r}).formatOptions.concat(",hrc:23")).split("-").map(Number).concat(n.getMilliseconds());return i[1]-=1,i}},format:{value({date:n,template:r,timeZone:i,locale:o,opts:a}={}){n=n||n?.value||new Date,r=r?.constructor===String?r:"yyyy/mm/dd hh:mmi:ss dp";let s=N({timeZone:i,locale:o}).formatOptions;return s+=a?`,${a}`:"",le(n,r,s)}},addCustom:{value({name:n,method:r,enumerable:i=!1,isGetter:o=!1}={}){n?.constructor===String&&r?.constructor===Function&&r.length>0&&(t[n]={method:r,enumerable:i,isGetter:o})}},validateLocaleInformation:{value:N},timeAcrossZones:{value:xn},weeksInYear:{value(n){return je(n,31)}},keys:{get(){let n=Object.fromEntries(Object.entries(t).filter(([r,i])=>i.enumerable===!0));return[...Object.keys(Ot()),...Object.keys(Et()),...Object.keys(n)].sort((r,i)=>r.localeCompare(i))}}}),e}var kt={},C=wn(Tn,kt);function Tn(e,t){let n=e?.locale||e?.timeZone||e?.tz||e?.l;return Ot({localeInfo:N(n?e:t),dateValue:new Date(n?Date.now():Sn(e)),customMethods:kt})}var Dn=(e,...t)=>{let n=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((r,i,o)=>r.concat(t[o-1]||"").concat(i),"")||e.raw.join("")).split(`
`).map(r=>r.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),n)};On();Cn();function Cn(){/stackblitz/i.test(location.href)&&console.info("\u2714 Stackblitz rewrites links to _top. The 'stackblitzhelpers' module fixed it."),document.addEventListener("click",e=>{if(e.target.href){let t=e.target;if(t.dataset.top||t.classList.contains("internalLink")||t.target==="_top")return top.location.href=t.href}return!0})}function Rn(e=!0){let t=w('<ul id="log2screen">').first();function n(o=!1){return a=>{a=w.IS(a,String,Number,Symbol)?String(a).trim():Ln(a,e);let s=a.startsWith("!!");a=s?a.slice(2):a,t.insertAdjacentHTML(o?"afterbegin":"beforeend",`<li${s?' class="head"':""}><div>${a}</div></li>`)}}let[r,i]=[n(),n(!0)];return{log:(...o)=>o.forEach(r),logTop:(...o)=>o.forEach(i)}}function Ln(e,t){try{return t?`<pre>${JSON.stringify(e,null,2)}</pre>`:JSON.stringify(e)}catch{return"Some [Object object] can not be converted to JSON"}}function On(){w.editCssRules("body{font:normal 14px/17px system-ui,sans-serif;margin:1rem;}","code{color:green;background-color:#eee;padding:2px;font-family:monospace;}","code.codeblock{display:block;padding:6px;border:1px solid #999;margin:0.5rem 0;background-color:#eee;white-space:pre-wrap;}","h3{marginTop:1.5rem;}",".thickBorder{border:5px solid green;borderWidth:5px;padding:0.5rem;display:inline-block;}","a.ExternalLink{text-decoration:none;color:rgb(0,0,238);background-color:#EEE;padding:3px;font-weight:bold;}",".cmmt{color:#888;}",".hidden{display:none;}",".attention{color:red; font-size:1.2em; font-weight:bold;}","#log2screen li{listStyle:'\\2713';paddingLeft:6px;margin:0.5rem 0 0 -1.2rem;font-family:monospace}","#log2screen li.head{list-style-type:none;font-weight:bold;margin-top:0.8rem;margin-bottom:-0.2rem;font-family:revert;}",".err{fontStyle:italic; color:red; }","a{text-decoration:none; font-weight:bold;}","a:hover{text-decoration:underline;}","a[target]:before,a.internalLink:before,a.externalLink:before{color:rgba(0,0,238,0.7);font-size:1.1rem;padding-right:2px;vertical-align:baseline;}",`a[target="_blank"]:before,a.externalLink:before{content:'\\2197';}`,`a[data-top]:before,a.internalLink:before,a[target="_top"]:before{content:'\\21BA';}`)}export{w as $,C as $D,Rn as logFactory,Dn as regexhelper};
